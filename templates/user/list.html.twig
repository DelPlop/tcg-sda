{% extends 'base.html.twig' %}
{% trans_default_domain 'cards' %}

{% block title %}Les membres de la communauté{% endblock %}

{% block body %}
    <div class="w3-row w3-padding-64">
        <div class="w3-twothird w3-container">
            <h2 class="w3-text-amber">Les membres de la communauté ({{ users|length }})</h2>
            <p>
                <table width="100%" border="1" class="gauche">
                    <tr>
                        <th>Pseudonyme</th>
                        <th>Cartes</th>
                        <th>Recherches</th>
                    </tr>

                    {% for user in users %}
                        {% set text = 'mes' %}
                        <tr>
                            <td>
                                {% if user.id is not same as(app.user.id) %}
                                    <a href="{{ path('user_contact', {user: user.id}) }}" title="Contacter {{ user.login }}">
                                {% endif %}
                                {{ user.login }}
                                {% if user.id is not same as(app.user.id) %}
                                    </a>
                                    {% set text = 'ses' %}
                                {% endif %}
                            </td>
                            <td>
                                <a href="{{ path('user_owned_cards', {user: user.id}) }}" title="Cartes de {{ user.login }}">Voir {{ text }} cartes</a>
                            </td>
                            <td>
                                <a href="{{ path('user_wanted_cards', {user: user.id}) }}" title="Recherches de {{ user.login }}">Voir {{ text }} recherches</a>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </p>
        </div>

        {{ render(controller(
            'App\\Controller\\StaticController::topRight'
        )) }}

        {{ render(controller(
            'App\\Controller\\StaticController::bottomRight'
        )) }}
    </div>
{% endblock %}